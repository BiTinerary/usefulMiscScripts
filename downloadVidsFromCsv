import pyperclip, requests, time, csv

""" If contents of clipboard doesn't exist, append to array. TODO, append array to log.csv to be parsed.
MasterAry = []
curClip = []
x = 0

while True:
	clipContents = str(pyperclip.paste())
	if clipContents not in curClip:
		curClip.append(clipContents)
		time.sleep(1)
		if [x, curClip[-1]] not in MasterAry:
			x += 1
			MasterAry.append([x, curClip[-1]])
			print MasterAry
"""
def download_file(fileName, url):
	url = url.replace('\n', '').replace(' ', '')
	r = requests.get(url, stream=True)
	with open(fileName+'.mp4', 'wb') as f:
		for chunk in r.iter_content(chunk_size=1024): 
			if chunk:
				f.write(chunk)
	print fileName
	return fileName

with open('urls.csv', 'r+') as urls:
	reader = csv.reader(urls)
	for each in reader:
		download_file(str(each[0]), str(each[1]))
